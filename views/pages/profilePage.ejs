<!DOCTYPE html>
<html>
<head>
  <%- include ("../partials/header.ejs") %>
</head>

<body>

<%- include ("../partials/nav.ejs") %>

<div class="container">

  <div class="row d-flex profile__content">
    <div class="col-sm">
      <div class="user__info">
        <h2>Информация о профиле</h2>
        <h4>Имя: <%= user.username%></h4>
        <% if(user.role == 'admin' ){ %>
          <h4>Роль: Администратор системы</h4>
          <% } else if(user.role == 'assistant') { %>
            <h4>Роль: Ассистент</h4>
          <% } else if(user.role == 'trainer') { %>  
            <h4>Роль: Тренер</h4>
            <% } else if(user.role == 'manager') { %>  
              <h4>
               Роль: Специалист отдела продаж и клиентского сервиса
                </h4>          
            <% } %>
      </div>
      <% if(user.role == 'admin' || user.role == 'assistant'){ %>
      <div class="students__content">
        <h5>Ученики</h5>
        <a href="<%= globalLink%>/students/" class="btn btn-secondary my-2">
          Перейти в базу учеников
        </a>
        <a href="<%= globalLink%>/students/new" class="btn btn-primary my-2">
          Создать ученика
        </a>
        <a href="<%= globalLink%>/students/delete" class="btn btn-danger my-2">
          Удалить ученика
        </a>
      </div>

      <div class="groups__content">
        <h5>Управление группами</h5>
        <a href="<%= globalLink%>/groups/new" class="btn btn-primary my-2">
        Создать группу
        </a>
        <a href="<%= globalLink%>/groups/delete" class="btn btn-danger my-2">
          Удалить группу (no)
          </a>
      </div>
    </div>

    <% } else { %>
      <% } %>

    <div class="col-sm">
      <h3 class="text-center">Списки групп</h3>
      <div class="accordion" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              Группы 1 класса
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 1).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Группы 2 класса
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 2).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Группы 3 класса
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 3).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingFour">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
              Группы 4 класса
            </button>
          </h2>
          <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 4).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingFive">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive">
              Группы 5 класса
            </button>
          </h2>
          <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 5).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingSix">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="true" aria-controls="collapseSix">
              Группы 6 класса
            </button>
          </h2>
          <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 6).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingSeven">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="true" aria-controls="collapseSeven">
              Группы 7 класса
            </button>
          </h2>
          <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 7).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingEight">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="true" aria-controls="collapseEight">
              Группы 8 класса
            </button>
          </h2>
          <div id="collapseEight" class="accordion-collapse collapse" aria-labelledby="headingEight" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 8).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingNine">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseNine" aria-expanded="true" aria-controls="collapseNine">
              Группы 9 класса
            </button>
          </h2>
          <div id="collapseNine" class="accordion-collapse collapse" aria-labelledby="headingNine" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 9).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTen">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTen" aria-expanded="true" aria-controls="collapseTen">
              Группы 10 класса
            </button>
          </h2>
          <div id="collapseTen" class="accordion-collapse collapse" aria-labelledby="headingTen" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 10).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingElev">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseElev" aria-expanded="true" aria-controls="collapseElev">
              Группы 11 класса
            </button>
          </h2>
          <div id="collapseElev" class="accordion-collapse collapse" aria-labelledby="headingElev" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <ul>
                <% groups.filter((group) => group.class_number == 11).forEach(function(group) { %>
                    <li>
                      <a href=<%= `${globalLink}/groups/${group.group_id}` %>>
                        <strong><%= group.name %></strong>
                      </a>
                    </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      
    </div>
  </div>

</div>


<%- include ("../partials/footer.ejs") %>